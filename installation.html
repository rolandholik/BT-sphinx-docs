<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Quixote" href="quixote.html" /><link rel="prev" title="Introduction" href="introduction.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>Installation - TSEM guide 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=a3e831d5" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">TSEM guide 0.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">TSEM guide 0.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quixote.html">Quixote</a></li>
<li class="toctree-l1"><a class="reference internal" href="quixote_experiments.html">Quixote experiments</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/installation.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h1>
<section id="building-tsem-kernel">
<span id="id1"></span><h2>Building TSEM kernel<a class="headerlink" href="#building-tsem-kernel" title="Link to this heading">¶</a></h2>
<p>Installation of <a class="reference internal" href="glossary.html#term-TSEM"><span class="xref std std-term">TSEM</span></a> infrastructure, like it or not, involves
compilation of the Linux kernel. For this reference, I’m using Ubuntu 22.04 as
it seems to be, what the developers do some of their testing on (as mentioned in
parts of Quixote documentation <a class="reference external" href="https://github.com/Quixote-Project/Quixote">https://github.com/Quixote-Project/Quixote</a>).</p>
<section id="getting-the-kernel-code">
<h3>Getting the kernel code<a class="headerlink" href="#getting-the-kernel-code" title="Link to this heading">¶</a></h3>
<p>You have to firstly acquire the kernel source code with the <a class="reference internal" href="glossary.html#term-TSEM"><span class="xref std std-term">TSEM</span></a>
patches. This can be done in following ways:</p>
<blockquote>
<div><ul class="simple">
<li><p>You can download the source code from the official linux kernel git
repository and apply the TSEM patches manually from linux kernel mailing
list. (<a class="reference external" href="https://blog.reds.ch/?p=1814">https://blog.reds.ch/?p=1814</a> can serve as a good guide for that)</p></li>
<li><p>Or more preferably you can clone the kernel provided by the Quixote
project: <a class="reference external" href="https://github.com/Quixote-Project/TSEM">https://github.com/Quixote-Project/TSEM</a>
Like so: <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">--depth</span> <span class="pre">1</span> <span class="pre">--all</span> <span class="pre">&lt;most</span> <span class="pre">recent</span> <span class="pre">kernel</span> <span class="pre">version&gt;</span> <span class="pre">https://github.com/Quixote-Project/TSEM</span></code></p></li>
</ul>
</div></blockquote>
<p>&lt;most recent kernel version&gt; being the most recent kernel version available
in the <a class="reference internal" href="glossary.html#term-TSEM"><span class="xref std std-term">TSEM</span></a> repository.
For example at the time of writing it would be:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>--depth<span class="w"> </span><span class="m">1</span><span class="w"> </span>--branch<span class="w"> </span>TSEM-6.12<span class="w"> </span>https://github.com/Quixote-Project/TSEM
</pre></div>
</div>
<img alt="_images/TSEM-clone.png" class="align-center" src="_images/TSEM-clone.png" />
</section>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">¶</a></h3>
<p>Following dependencies will need to be installed before proceeding with the
compilation:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>gcc<span class="w"> </span>make<span class="w"> </span>build-essential<span class="w"> </span>libncurses5-dev<span class="w"> </span>fakeroot<span class="w"> </span>ncurses-dev<span class="w"> </span>xz-utils<span class="w"> </span>libssl-dev<span class="w"> </span>bc<span class="w"> </span>flex<span class="w"> </span>libelf-dev<span class="w"> </span>bison<span class="w"> </span>exuberant-ctags
</pre></div>
</div>
<p>Dependencies needed for successful kernel compilation always vary, but the
difference will almost always be in the package names.</p>
</section>
<section id="generating-kernel-config">
<h3>Generating kernel <em>.config</em><a class="headerlink" href="#generating-kernel-config" title="Link to this heading">¶</a></h3>
<p>In order to compile Linux kernel one will also need a suitable <em>.config</em>
file. This can be copied form your current distribution:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat<span class="w"> </span>/lib/modules/<span class="k">$(</span>uname<span class="w"> </span>-r<span class="k">)</span>/build/.config<span class="w"> </span>&gt;<span class="w"> </span>.config
</pre></div>
</div>
<p>Or generated using:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make<span class="w"> </span>localmodconf
</pre></div>
</div>
<p>in your kernel compilation directory. I would personaly suggest this approch as
compiling kernel with all the drivers/modules built into the kernel can take a vary long
time – depending on your computer’s processing power.</p>
<p>Next you need to enable <a class="reference internal" href="glossary.html#term-TSEM"><span class="xref std std-term">TSEM</span></a> in the <em>.config</em>, there are many ways to do this.</p>
<img alt="_images/menconf-1.png" class="align-center" src="_images/menconf-1.png" />
<p>You can use <strong>make menuconfig</strong> where you need to select <strong>Trusted
Security Event Modeling</strong> option under <strong>Security options</strong>, set <strong>TPM PCR index
for root domain</strong> to <strong>11</strong></p>
<img alt="_images/menconf-2.png" class="align-center" src="_images/menconf-2.png" />
<p>and add string “tsem” to the <strong>Ordered list of enabled LSMs</strong> at the buttom of
the page.</p>
<img alt="_images/menconf-3.png" class="align-center" src="_images/menconf-3.png" />
<img alt="_images/menconf-4.png" class="align-center" src="_images/menconf-4.png" />
<p>Don’t forget to save and exit.</p>
<p>I would also recommend adding “-tsem” or some other name to the <strong>Local
version</strong> option in <strong>General setup</strong> of the menuconfig for easier determination
if the correct kernel is installed afterwards.</p>
<img alt="_images/menconf-5.png" class="align-center" src="_images/menconf-5.png" />
</section>
<section id="building-the-kernel">
<h3>Building the kernel<a class="headerlink" href="#building-the-kernel" title="Link to this heading">¶</a></h3>
<p>After having successfully completed the previous steps you are ready to compile
the kernel.</p>
<p>run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make<span class="w"> </span>-j<span class="k">$(</span>nproc<span class="k">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The “-j$(nproc)” part is optional however heavily recommended since it utilizes
all your CPU cores, not just one (default). Or you can replace it with number of
cores you desire, if you know how many cores exactly you want to utilize (e.g.
make -j2 for 2 cores). Blindly guessing by putting some ridiculously big number
should work as well as it will use all cores available.</p>
</div>
<p>After finishing the previous command make sure to install all compiled modules:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>make<span class="w"> </span>modules_install
</pre></div>
</div>
<p>And finally install the kernel:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>
</div>
<p>Now you should be ready to reboot your system. After the reboot make sure to
check if the TSEM kernel is installed and that the “tsem” is in the list of
enabled <a class="reference internal" href="glossary.html#term-LSM"><span class="xref std std-term">LSM</span></a>s:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>uname<span class="w"> </span>-r
<span class="gp">$ </span>cat<span class="w"> </span>/sys/kernel/security/lsm
</pre></div>
</div>
<img alt="_images/cat-lsm.png" class="align-center" src="_images/cat-lsm.png" />
<p>If there is “tsem” in the list of enabled <a class="reference internal" href="glossary.html#term-LSM"><span class="xref std std-term">LSM</span></a>s you can move on to the <em>Quixote</em>
setup.</p>
<p>Don’t worry about the trailing hostname at the end — some Linux distributions
put newline at the end of the <em>lsm</em> string, others don’t.</p>
</section>
</section>
<section id="quixote-setup">
<h2>Quixote setup<a class="headerlink" href="#quixote-setup" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Quixote can be acquired in two ways:</dt><dd><ul class="simple">
<li><p>downloading from <a class="reference external" href="ftp://ftp.enjellic.com/pub/Quixote">ftp://ftp.enjellic.com/pub/Quixote</a> (outdated at the time
of writing — not recommended)</p></li>
<li><p>compiling from source (covered in this section)</p></li>
</ul>
</dd>
</dl>
<section id="getting-the-source-code">
<h3>Getting the source code<a class="headerlink" href="#getting-the-source-code" title="Link to this heading">¶</a></h3>
<p>Downloading the Quixote sources can get a little tricky.</p>
<p>Firstly you need to clone the Quixote repository using:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>--recurse-submodules<span class="w"> </span>https://github.com/Quixote-Project/Quixote.git
</pre></div>
</div>
<div class="admonition-possible-issue admonition">
<p class="admonition-title">Possible Issue</p>
<p>In case, you don’t have github setup with your RSA key — <em>ssh</em> method, the you
will be asked to confirm fingerprint of github.com, the he will fail, since the
sub-repository is referenced by ssh (git&#64;…). An effective but a little dirty
workaround for that would be manually rewriting the <em>ssh</em> access method to web
URL and retrying the pull:</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>Quixote
<span class="gp">$ </span>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/url = git@github.com:Quixote-Project\/HurdLib.git/url = https:\/\/github.com\/Quixote-Project\/HurdLib.git/g&#39;</span><span class="w"> </span>.git/config
<span class="gp">$ </span>git<span class="w"> </span>pull<span class="w"> </span>--recurse-submodules
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not recommended to interact with git configs manually, but so is
interacting with github web URLs.</p>
</div>
</section>
<section id="id2">
<h3>Dependencies<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>For compilation of Quixote, you will need at minimum these packages:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>git<span class="w"> </span>gcc<span class="w"> </span>make<span class="w"> </span>flex<span class="w"> </span>libssl-dev<span class="w"> </span>libcap-dev<span class="w"> </span>libxen-dev<span class="w"> </span>pkg-config<span class="w"> </span>elfutils
</pre></div>
</div>
<p>You should already heave some of them from <a class="reference internal" href="glossary.html#term-TSEM"><span class="xref std std-term">TSEM</span></a> kernel compilation.
Complete list of packages is mentioned in case of compilation on systems with
pre-compiled kernel installed.</p>
<p>The compilation is quite straight forward:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In case you use more CPU cores using the “-j” argument, you may
encounter race conditions during compilation —  you may need to recompile the
Quixote multiple times to get it right as the dependencies aren’t set up
correctly and a race condition might occur, where a file starts compiling before
all its dependencies are compiled, resulting in compilation error. Therefore I
recommend using just the default one core, as it isn’t too long of a
compilation.</p>
</div>
</section>
<section id="id3">
<h3>Installation<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p>Installation is also very straight forward:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>
</div>
</section>
<section id="path">
<h3>PATH<a class="headerlink" href="#path" title="Link to this heading">¶</a></h3>
<p>This falls more into the usage category, but I think it is good practice to put
the installation paths into the <em>PATH</em> variable for ease of use.</p>
<p>For example like so:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;PATH=/opt/Quixote/sbin:/opt/Quixote/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>/etc/environment
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The change will take effect after new shell login/reboot or running
“source /etc/environment”.</p>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="quixote.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Quixote</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="introduction.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Introduction</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Roland Holik
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#building-tsem-kernel">Building TSEM kernel</a><ul>
<li><a class="reference internal" href="#getting-the-kernel-code">Getting the kernel code</a></li>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#generating-kernel-config">Generating kernel <em>.config</em></a></li>
<li><a class="reference internal" href="#building-the-kernel">Building the kernel</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quixote-setup">Quixote setup</a><ul>
<li><a class="reference internal" href="#getting-the-source-code">Getting the source code</a></li>
<li><a class="reference internal" href="#id2">Dependencies</a></li>
<li><a class="reference internal" href="#id3">Installation</a></li>
<li><a class="reference internal" href="#path">PATH</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=283e6f7d"></script>
    </body>
</html>